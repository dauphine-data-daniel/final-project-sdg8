---
title: "SDG 8 in Focus: Global Economic Growth and Labor Trends"
author: Miriam Schäfer, Daniel Rohrbach
date: last-modified
editor: visual 
format:
  html: 
    toc: true
    echo: false
    message: false
    warning: false 
---

```{r}
here::i_am("final-project-sdg8.Rproj")
library(here)
library(ggplot2)
library(dplyr)
library(tidyr)
library(vroom)
library(stringr)
library(countrycode)
library(rnaturalearth)
library(rnaturalearthdata)
library(maps) 
library(sf) 
library(viridis)
```

# Research question 

At the heart of our research project is a central question: how far has the world progressed towards achieving Sustainable Development Goal 8 (SDG 8) - promoting economic growth with decent work - and what milestones have been reached or what challenges need to be overcome as the 2030 deadline approaches? This comprehensive analysis uses extensive data sets to shed light on the different facets of this question and provide a nuanced understanding of global progress and setbacks in this important area.\n

SDG 8, a key component of the United Nations Sustainable Development Goals, focuses on promoting sustained, inclusive, and sustainable economic growth, full and productive employment and decent work for all. This goal is not only an economic goal, but also encompasses broader aspects of social and environmental development, making it a complex and multidimensional goal. Our research aims to analyze these dimensions by examining various indicators such as unemployment rates, gender equality in the labor market, labor safety standards and regional inequalities, in the context of different democratic regimes and values.\n

A significant part of our analysis is dedicated to understanding global unemployment trends. Unemployment rates are a direct indicator of economic vitality and the health of the labor market. Using these rates, we can assess the effectiveness of policies and initiatives to promote employment and therefore economic growth.\n

Gender equality in the world of work is another important aspect of our research. We want to investigate what progress has been made in closing the gender gap in employment and equal pay. This research will provide insights into the equitable distribution of economic opportunities, highlighting broader societal trends in gender roles and equality.\n

Workplace safety is a fundamental component of decent working conditions. As part of our research, we will examine global trends in occupational safety, including the incidence of workplace accidents and the effectiveness of safety regulations and practices. This aspect of the research is crucial to understanding how far we have come in ensuring a safe working environment for all workers.\n

The research will also consider regional inequalities in the achievement of SDG 8. Economic development and working conditions vary widely across regions and are influenced by factors such as political stability, quality of governance and economic policies. By analyzing these regional differences, we can identify patterns and unique challenges faced by different parts of the world. In addition, we will focus on the influence of democratic values on economic and working conditions, examining how governance styles affect the implementation and success of policies to achieve SDG 8.\n

As we approach the 2030 deadline for the SDGs, it is crucial to measure the progress made so far. Our research aims to identify the milestones already achieved in the realization of SDG 8. The aim is not only to highlight the successes, but also to identify the critical areas where additional efforts are needed. The aim is to paint a clear picture of the current state of play and provide insights into effective strategies and actions that could accelerate progress towards the 2030 goals.\n

In summary, our research question forms the basis for a comprehensive analysis aimed at understanding global progress towards SDG 8. By examining various indicators and factors, from unemployment and gender equality to occupational safety and regional differences, all in the context of democratic values, we aim to provide a comprehensive overview of where the world stands on its path to sustainable economic growth and decent work by 2030.\n 

# Data sets

The final dataset currently consists of 26,336 observations and 11 variables. This dataset is primarily derived from the International Labour Organization (ILO) datasets, supplemented with data from The Economist's World Democracy Index. The ILO datasets, as a specialized agency of the United Nations, offer comprehensive and reliable labor market and employment trends data, which are crucial for understanding various aspects of economic growth globally. These datasets are meticulously collected and regularly updated, ensuring the accuracy and relevance of the information.

Key variables from the ILO datasets include employment rates, wage differentials, labor productivity, and working conditions. This range of data is instrumental in assessing the diverse facets of the global labor market and economic activities, thereby providing a quantitative foundation for our analysis. The datasets' breadth enables a detailed examination of labor market trends, wage dynamics, and employment conditions across different regions and demographics.

Furthermore, the inclusion of The Economist's World Democracy Index introduces a qualitative dimension to our analysis. This index, which measures the state of democracy in 167 countries, is based on factors such as electoral process, civil liberties, government functioning, political participation, and political culture. By correlating a country's Democracy Index score with its performance in terms of SDG 8 (Sustainable Development Goal focusing on decent work and economic growth), the study explores the potential influence of democratic governance on the quality of economic growth and employment.

The integration of these two robust data sources - the ILO datasets and The Economist's World Democracy Index - provides a comprehensive view of the progress towards SDG 8. It allows for a well-rounded analysis, taking into account a range of variables that can impact the achievement of decent work and economic growth globally. This fusion not only offers insights into the labor market and economic conditions but also enables the exploration of broader socio-political factors that may influence these economic outcomes.


## 1. GDP growth data

SDG indicator 8.2.1 is the annual growth rate of output per worker (GDP constant 2015 US \$) (in %).

It corresponds to Target 8.2: "Achieve higher levels of economic productivity through diversification, technological upgrading and innovation, including through a focus on high-value added and labor-intensive sectors".

```{r}
# SDG indicator 8.2.1: Annual growth rate of output per worker
growth <- read.csv("SDG_A821_NOC_RT_A.csv") 
table_growth <- growth |> 
  str() |> 
  capture.output()
dim_growth <- dim(growth) 
country_growth <- length(unique(growth$ref_area)) 
year_growth <- length(unique(growth$time))
growth <- growth |>
  select(-indicator, -source) |>
  group_by(ref_area, time)
growth <- growth |> 
  rename(growth_821 = obs_value)

```

The data contains `r dim_growth[1]` observations and `r dim_growth[2]` variables. The observations cover `r country_growth` countries and `r year_growth` years. The time span goes from `r min(growth$time)` until `r max(growth$time)`.

We remove the "indicator" column as it's uniform across all observations and drop "source" for its irrelevance, then rename "obs_value" to align with indicator 8.2.1.

The variable *ref_area* is a unique abbreviation for each country, the variable *time* specifies the year of the observed value for the annual growth rate per worker, which is stored under the variable name *obs_value*. The variable *indicator* specifies to which SDG indicator the observation corresponds, however it contains the same code for all observations as can be seen in the table below. The variable *source* allows to trace back the information, which is not relevant for our further analysis.

## 2. Proportion of youth not in education or employment

SDG indicator 8.6.1 is the "proportion of youth (aged 15-24 years) not in education, employment or training". It corresponds to target 8.6: "By 2020, substantially reduce the proportion of youth not in employment, education or training".

```{r}
youth_not <- read.csv("SDG_0861_SEX_RT_A.csv") 
table_youth <- youth_not |> 
  str() |> 
  capture.output()
dim_youth <- dim(youth_not) 
country_youth <- length(unique(youth_not$ref_area)) 
year_youth <- length(unique(youth_not$time))
youth_not <- youth_not |>
  select(-indicator, -source, -obs_status, -note_indicator, -note_source) |>
  group_by(ref_area, sex, time)
youth_not <- youth_not |> 
  rename(youth_unemployed_861 = obs_value)

```

The dataset contains `r dim_youth[1]` observations and `r dim_youth[2]` variables. The observations cover `r country_youth` countries and `r year_youth` years. The time span goes from `r min(youth_not$time)` until `r max(youth_not$time)`.

The variables *ref_area*, *time*, *indicator* and *source* are defined analogously to the previous dataset. In addition, indicator 8.6.1 differentiates across gender and hence includes the variable *sex*. The variable *obs_value* contains the proportion of 15-24 year-olds who not in education or employment in %. The remaining variables *obs_status*, *note_indicator* and *note_source* are free text attributes with descriptive metadata from ILOSTAT. However, they do not contain relevant information for our analysis.

We drop the column "indicator", since it is the same for all observations (see the output below), and the columns "source", "obs_status", "note_indicator", "note_source" because they are not relevant for our analysis. We rename the column "obs_value" to make clear that it corresponds to indicator 8.6.1.

## 3. Average hourly earnings of employees by sex

Indicator 8.5.1: Average hourly earnings of employees, by sex, age, occupation and persons with disabilities (Local currency). It corresponds to target 8.5: By 2030, achieve full and productive employment and decent work for all women and men, including for young people and persons with disabilities, and equal pay for work of equal value.

```{r}
# Indicator 8.5.1: Average hourly earnings of employees, by sex, age, occupation, and persons with disabilities

earnings <- read.csv("SDG_0851_SEX_OCU_NB_A.csv")
table_earnings <- earnings |> 
  str() |> 
  capture.output()
dim_earnings <- dim(earnings) 
country_earnings <- length(unique(earnings$ref_area)) 
year_earnings <- length(unique(earnings$time))
earnings <- earnings |>
  select(-indicator, -source, -obs_status, -note_classif, -note_indicator, -note_source)
earnings <- earnings |> 
  rename(isco_08_occupation = classif1) |>
  rename(earnings_851 = obs_value) |>
  group_by(ref_area, sex, time)
```

The dataset contains `r dim_earnings[1]` observations and `r dim_earnings[2]` variables. The observations cover `r country_earnings` countries and `r year_earnings` years. The time span goes from `r min(earnings$time)` until `r max(earnings$time)`.

The variables *ref_area*, *time*, *sex*, *indicator*, *source*, *obs_status*, *note_indicator* and *note_source* are defined analogously to the previous dataset. Just like the latter, *note_classif* is a free text attribute presenting descriptive metadata, which is not of relevance for our further analysis. The variable *obs_value* contains the average hourly earnings of employees in local currencies. According to ILOSTAT earnings exclude employers' contributions in respect of their employees paid to social security and pension schemes and also the benefits received by employees under these schemes. Earnings also exclude severance and termination pay. It should be pointed out that since statistics on earnings comes from a variety of sources, which implies heterogeneity of operational criteria. International comparisons are therefore difficult to interpret. The variable *classif1* differentiates for different occupations. The ILO has defined 10 major grouops of occupations according to the ISCO-08. You can find the classification with more detailed subgroups ([here](%22https://ilostat.ilo.org/resources/concepts-and-definitions/classification-occupation/%22)):

0.  Armed forces occupations X, not elsewhere classified
1.  Managers
2.  Professionals
3.  Technicians and associate professionals
4.  Clerical support workers
5.  Service and sales workers
6.  Skilled agricultural, forestry and fishery workers
7.  Craft and related trades workers
8.  Plant and machine operators, and assemblers
9.  Elementary occupations


Per definition, each occupation corresponds to a certain skill level from 1 to 4, that is also contained in *classif_1*.

As before we see that the column "indicator" contains the same value for all observations, so we do not include it in our adapted dataset. We also delete the columns "source", "obs_status", "note_indicator", "note_source" because they are not relevant for our analysis.

Furthermore, we rename the columns "obs_value" and "classif1" to make clear that they correspond to indicator 8.5.1 and the ISCO-08 classification respectively.

In addition to the occupational groups, the dataset provides a classification by skill level. We decided to leave the differentiation by skill level out in this analysis because its interpretation is less explicit.

## 4. Unemployment rate

Indicator 8.5.2: Unemployment rate, by sex, age and persons with disabilities. It corresponds to target 8.5: By 2030, achieve full and productive employment and decent work for all women and men, including for young people and persons with disabilities, and equal pay for work of equal value.

```{r}
# Indicator 8.5.2: Unemployment rate, by sex, age, and persons with disabilities
unemp <- read.csv("SDG_0852_SEX_AGE_RT_A.csv")
table_unemp <- unemp |> 
  str() |> 
  capture.output()
dim_unemp <- dim(unemp) 
country_unemp <- length(unique(unemp$ref_area)) 
year_unemp <- length(unique(unemp$time))
sex_unemp <- length(unique(unemp$sex))

unemp <- unemp |>
  select(-indicator, -source, -obs_status, -note_classif, -note_indicator, -note_source, -classif1)
unemp <- unemp |> 
  rename(unemployment_rate = obs_value) |>
  group_by(ref_area, time, sex)
```

```{r}
# to adjust for many-to-many issues
unemp <- unemp |>
         group_by(ref_area, time, sex) |>
         summarize(unemployment_rate = mean(unemployment_rate, na.rm = TRUE))

```

The dataset contains `r dim_unemp[1]` observations and `r dim_unemp[2]` variables. The observations cover `r country_unemp` countries and `r year_unemp` years. The time span goes from `r min(unemp$time)` until `r max(unemp$time)`.

The variables *ref_area*, *time*, *sex*, *indicator*, *source*, *obs_status*, *note_indicator*, *note_source* and *note_classif* are defined analogously to the previous dataset. The variable *obs_value* is defined as the percentage of persons in the labor force who are unemployed. The variable *classif1* contains three different values which are displayed below. The documentation of the data says that data by age includes various age bands, usually including but not limited to youth (ages 15-24), prime-age workers (age 25-54), and older workers (ages 55+). It is however not explained, which of the three indicators corresponds to what age group and since it is not obvious from their names, we decided to drop the variable to avoid confusion. We also drop all variables that have been dropped from previous datasets. We rename the column "obs_value" to "unemployment_rate" to make clear that it corresponds to indicator 8.5.2.

## 5. Informal employment

Indicator 8.3.1: Proportion of informal employment in total employment, by sector and sex. It corresponds to target 8.3: Promote development-oriented policies that support productive activities, decent job creation, entrepreneurship, creativity and innovation, and encourage the formalization and growth of micro-, small- and medium-sized enterprises, including through access to financial services

```{r}
informal <- read.csv("SDG_0831_SEX_ECO_RT_A.csv")
table_informal <- informal |> 
  str() |> 
  capture.output()

dim_informal <- dim(informal) 
country_informal <- length(unique(informal$ref_area)) 
year_informal <- length(unique(informal$time))
```

The dataset contains `r dim_informal[1]` observations and `r dim_informal[2]` variables. The observations cover `r country_informal` countries and `r year_informal` years. The time span goes from `r min(informal$time)` until `r max(informal$time)`.

The variables *ref_area*, *time*, *sex*, *indicator*, *source*, *obs_status*, *note_indicator*, *note_source* and *note_classif* are defined analogously to the previous dataset. The variable *obs_value* is defined as the percentage of non-agricultural employment that is classified as informal employment. Informal employment comprises persons who in their main or secondary jobs were in one of the following categories: 1. Own-account workers, employers and members of producers' cooperatives employed in their own informal sector enterprises; 2. Employees holding informal jobs, whether employed by formal sector enterprises, informal sector enterprises, or as paid domestic workers by households; 3. Producers of goods exclusively for own final use by their household

The variable *classif1* contains 16 different values which are displayed below. It contains the classification of non-agricultural activities according to the latest revision of the International Standard Industrial Classification of All Economic Activities (ISIC Rev.4). Since we are interested in aggregate results, we only keep observations for "ECO_AGGREGATE_TOTAL" which is defined at "Economic activity (Aggregate): Total".

```{r}
unique(informal$classif1) 
```

```{r}
informal <- informal |> 
  filter(startsWith(classif1, "ECO_AGGREGATE_TOTAL"))

informal <- informal |>
  select(-indicator, -source, -obs_status, -note_classif, -note_indicator, -note_source, -classif1)
```

Furthermore, we rename the column "obs_value" to "informal_employment" to make clear that it corresponds to indicator 8.3.1

```{r}
informal <- informal |> 
  rename(informal_employment = obs_value)
```

## Merging datasets

In this process, we systematically combined multiple labor market datasets to create a comprehensive dataset. Starting with the merging of earnings and youth unemployment data (youth_not), we sequentially added information on informal employment, GDP growth (growth), and general unemployment (unemp). Each merge was performed based on common fields such as 'ref_area', 'sex', and 'time', ensuring that the resulting dataset (merged_labor) integrated diverse yet related aspects of labor market data.


```{r}
#First, merging earnings and youth_not

merged_23 <- inner_join(earnings, youth_not, by = c("ref_area", "sex", "time"))

#adding informal employment

merged_235 <- inner_join(merged_23, informal, by = c("ref_area", "sex", "time"))

#adding growth

merged_1235 <- inner_join(merged_235, growth, by = c("ref_area", "time"))

#finally adding unemp 

merged_labor <- inner_join(merged_1235, unemp, by = c("ref_area", "sex", "time"))

```


## 6. Democracy index

The democracy index ranges from 1 to 10 where 10 is the most democratic. It combines information on elections, civil liberties and political participation. For our analysis, we processed the democracy index data by reading the CSV file and conducting initial data cleaning. This included filtering out rows with empty 'Code' fields, removing the irrelevant 'Entity' column, and renaming columns for consistency ('Year' to 'time' and 'Code' to 'ref_area'). This step prepared the democracy index data for subsequent integration with the labor market datasets.

```{r}
# Reading and preparing the democracy index data
democracy <- read.csv("democracy-index-eiu.csv") |>
  filter(Code != "") |>
  select(-Entity) |>
  rename(time = Year, ref_area = Code)

```

## Final merging

In this final step, we merged the comprehensive labor market dataset (merged_labor) with the democracy index data. The merge was conducted using the 'ref_area' and 'time' fields, creating merged_final, a dataset that combines detailed labor market information with democracy index scores. This rich dataset is poised for in-depth analysis of the interplay between labor market dynamics and political governance across different regions and time periods.

```{r}
# Merging the labor market datasets with the democracy index dataset
merged_final <- merged_labor |>
  left_join(democracy, by = c("ref_area", "time"))
```

## Creating a continental variable

Creating a continental variable is our strategic approach to analyze and compare data on a broader, yet distinct, geographical scale. It allows for the aggregation of country-specific data into larger, more manageable regions, facilitating the identification of continental trends, patterns, and disparities. This method can highlight unique challenges or successes within each continent, providing insights for region-specific policy development and international comparisons.

```{r}
region_mapping <- data.frame(
  ref_area = c("AGO", "ALB", "ARG", "ARM", "AUT", "BEL", "BGD", "BGR", "BIH", "BOL", "BRA",
               "BRN", "BWA", "CHE", "CHL", "CIV", "COD", "COG", "COL", "COM", "CRI", "CYP",
               "CZE", "DNK", "DOM", "ECU", "EGY", "ESP", "EST", "ETH", "FIN", "FRA", "GBR",
               "GHA", "GMB", "GRC", "GUY", "HND", "HRV", "HUN", "IDN", "IND", "IRL", "ISL",
               "ITA", "JOR", "KEN", "KHM", "LAO", "LBN", "LBR", "LKA", "LSO", "LTU", "LUX",
               "LVA", "MDA", "MDV", "MEX", "MKD", "MLI", "MLT", "MMR", "MNG", "MUS", "MWI",
               "NAM", "NIC", "NLD", "NOR", "NPL", "PAK", "PAN", "PER", "POL", "PRT", "PRY",
               "PSE", "RWA", "SEN", "SLE", "SLV", "SRB", "SVK", "SVN", "SWE", "SWZ", "THA",
               "TLS", "TON", "TUN", "TUR", "TZA", "UGA", "VEN", "VNM", "WSM", "YEM", "ZAF",
               "ZMB", "ZWE"),
  region = c(rep("Africa", 26), rep("Asia", 21), rep("Europe", 29), 
             rep("North America", 9), rep("South America", 11), 
             rep("Oceania", 5))
)

if (length(region_mapping$ref_area) != length(region_mapping$region)) {
  stop("Mismatch in number of elements between country codes and regions")
}


merged_final_with_region <- merge(merged_final, region_mapping, by = "ref_area", all.x = TRUE)
```


```{r}
# Ensure the merging of the region_mapping was successful
if (!"region" %in% colnames(merged_final)) {
  # Merge again if region is not in merged_final
  merged_final <- merge(merged_final, region_mapping, by = "ref_area", all.x = TRUE)
}
```



## Data validation checks

Conducting data validation checks is essential in any analytical process as it ensures the accuracy and consistency of the data being used, particularly when merging datasets from various sources. These checks help identify discrepancies, missing values, or anomalies early on, providing a necessary step to guarantee the reliability and validity of the subsequent analysis and its findings.

```{r}
# Simplified Data Validation Check

# Checking for inconsistencies in 'ref_area'
inconsistencies_ref_area <- sum(!merged_final$ref_area %in% growth$ref_area)
print(paste("Inconsistencies in 'ref_area':", inconsistencies_ref_area))

# Summarizing missing values in key columns
na_summary <- sapply(merged_final[, c("growth_821", "youth_unemployed_861", "earnings_851", 
                                      "unemployment_rate", "informal_employment", "democracy_eiu")], 
                     function(x) sum(is.na(x)))
print("Missing Values Summary:")
print(na_summary)

# Displaying a brief overview of the dataset
dataset_overview <- head(merged_final)
print("Dataset Overview:")
print(dataset_overview)

```

The data validation checks indicate no inconsistencies in the 'ref_area' field, suggesting reliable merging of datasets. However, the significant number of missing values in `earnings_851` and `democracy_eiu` could be attributed to differing observation periods and timespans, especially considering that democracy data is sourced separately from other indicators and might not align perfectly with the employment and economic data in terms of coverage and temporal scope. The dataset overview provides a clear picture of the combined socio-economic and political data, emphasizing the diversity and depth of information available for analysis.

# Data analysis

## Growth rate per employed worker

Real GDP per unit of labor input is a measure of labor productivity. When monitored over time, it offers insight into labor productivity growth, and on the evolution, efficiency and quality of human capital in the production process. Economic growth in a country can be described either to increased labor input or to more effective work by those who are employed. The indicator at hand casts light on the latter effect, being therefore a key measure of economic performance. Labor productivity (and growth) estimates can contribute to the understanding of how labor market performance affects living standards.

The corresponding target, as phrased in the SDGs, is to "achieve higher levels of economic productivity through diversification, technological upgrading and innovation, including through a focus on high-value added and labour-intensive sectors". The following maps show the growth rates of real GDP per worker in 2015 when the SDG agenda was announced, in 2020 when the Covid19 pandemic massively influenced the economic situation worldwide and in 2022, the last available data. 


```{r}
world <- ne_countries(scale = "medium", returnclass = "sf")

growth_world <- merge(world, growth, by.x = "iso_a3", by.y = "ref_area", all.x = TRUE)

growth_world_combined <- rbind(
  filter(growth_world, time==2015),
  filter(growth_world, time==2020), 
  filter(growth_world, time==2022)
)
```


```{r}
growth_world_combined |> 
  ggplot() +
  geom_sf(aes(fill = growth_821)) +
  scale_fill_viridis_c(option = "viridis", 
                       name = "Growth Rate", 
                       limits = c(-10, 10)) +
  theme_void() +
  labs(title = "World map of growth rates per employed worker") +
  facet_wrap(.~time)

```

```{r}
# Plot average growth rates for regions
growth_region <- merged_final |> 
  group_by(region, time) |> 
  summarize(avg_growth = mean(growth_821)) 

growth_region |> 
  ggplot() + 
  geom_line(aes(x = time, y = avg_growth, color = region)) + 
  theme_minimal() + 
  labs(title = "Mean growth per employed worker worldwide in %", x = "Years", y="Mean growth rate")
```


The worldwide mean growth rate was `r round(mean(merged_final$growth_821[merged_final$time == 2015], na.rm = TRUE),2)`% in 2015 and `r round(mean(merged_final$growth_821[merged_final$time == 2022], na.rm = TRUE),2)`% in 2022. It can be seen that all regions with an exception of South America faced a severe collaps of growth rates in 2020. Even though the average growth rate worldwide seems to have partly recovered from that, it has also not increased significantly since the start of the implementation of SDGs in 2015. The world maps indicate that most European countries are back on the growth level from before the Covid crisis, while especially some of the big economies like China, India or the U.S. are not back on previous levels. The reasons for that are versatile, but in terms of the long term target by the UN, some change is still necessary to achieve "higher levels of economic productivity" until 2030.




## Regional youth unemployment trends

Youth employment, as represented by SDG indicator 8.6.1, is crucial because it not only reflects the economic vitality of a region but also influences the social and economic prospects of its younger population. Ensuring productive employment for youth is key to promoting economic development and social stability, aligning with the broader goals of the United Nations' Sustainable Development Goals.

```{r}
# Filtering and aggregating data
merged_final_aggregated <- merged_final |>
  filter(!is.na(region), region != "NA", time >= 2005) |>  
  group_by(time, region) |>
  summarize(youth_unemployed_861 = mean(youth_unemployed_861, na.rm = TRUE), .groups = 'drop')

# Plotting aggregated data from 2005 onwards, excluding 'NA' region
ggplot(merged_final_aggregated, aes(x = time, y = youth_unemployed_861, group = region, color = region)) +
  geom_line() +
  theme_minimal() +
  labs(title = "Youth Unemployment Over Time by Region (from 2005)", x = "Year", y = "Youth Unemployment (%)")
```

```{r}
# Graph for 2015 Youth Unemployment by Region
youth_unemployment_2015 <- merged_final_with_region |>
  filter(time == 2015, !is.na(region), region != "NA")
ggplot(youth_unemployment_2015, aes(x = region, y = youth_unemployed_861)) +
  geom_boxplot() +
  theme_minimal() +
  labs(title = "Youth Unemployment by Region in 2015", x = "Region", y = "Youth Unemployment (%)")

# Graph for 2022 Youth Unemployment by Region
youth_unemployment_2022 <- merged_final_with_region |>
  filter(time == 2022, !is.na(region), region != "NA")
ggplot(youth_unemployment_2022, aes(x = region, y = youth_unemployed_861)) +
  geom_boxplot() +
  theme_minimal() +
  labs(title = "Youth Unemployment by Region in 2022", x = "Region", y = "Youth Unemployment (%)")

```
Regionally, youth unemployment levels have displayed notable differences over the years. Oceania has historically exhibited relatively higher rates of youth unemployment, while South America has recently reported some of the lowest levels, mostly due to a period of decline in the years leading up to 2013. Comparing the data from 2015 to 2022, and excluding Oceania due to limited data availability, we observe that the averages in Africa, Europe, and Asia have hovered between 17 and 20 percent and remained relatively stable. In contrast, North America has experienced a more noticeable reduction in youth unemployment. However, the variance within each region, indicating the range of unemployment rates across different countries, has increased over time, highlighting the growing disparity in employment opportunities for youth within these regions. Hence, we do not see a major impact of the implementation of the SDGs so far. 


## Democracy and employment trends

Exploring the correlation between democracy and employment trends is essential to understand how political systems and governance styles impact economic opportunities and labor market conditions. This analysis can reveal the extent to which democratic values and practices influence job creation, employment stability, and workplace rights, thereby guiding policy decisions towards fostering inclusive and sustainable economic growth.

```{r}
# Plot with overall trend line
ggplot(merged_final, aes(x = democracy_eiu, y = unemployment_rate)) +
  geom_point(aes(color = region)) +
  geom_smooth(method = "lm", se = FALSE) +
  theme_minimal() +
  labs(title = "Democracy Index vs Unemployment Rate by Region", x = "Democracy Index", y = "Unemployment Rate (%)")

```


```{r}
# Plot with overall trend line
ggplot(merged_final, aes(x = democracy_eiu, y = youth_unemployed_861)) +
  geom_point(aes(color = region)) +
  geom_smooth(method = "lm", se = FALSE) +
  theme_minimal() +
  labs(title = "Democracy Index vs Youth Unemployment by Region", x = "Democracy Index", y = "Youth Unemployment (%)")

```

The graphical analysis suggests that there is no clear correlation between overall unemployment and the democracy index; the relationship appears to be more complex and possibly influenced by other factors. In contrast, for youth unemployment, there seems to be an observable trend indicating lower rates of unemployment among youth in more democratic countries. To validate these observations and determine the strength and significance of these relationships, we will conduct linear regression tests, which will provide a more quantitative and definitive analysis of the correlation between democracy levels and unemployment trends.

```{r}
# Ensure merged_final is correctly loaded and available
if (!exists("merged_final")) {
  # Load or create merged_final here
}

# Linear regression for democracy index and overall unemployment rate
model_unemployment <- lm(unemployment_rate ~ democracy_eiu, data = merged_final, na.action = na.exclude)
summary(model_unemployment)

# Linear regression for democracy index and youth unemployment
model_youth_unemployment <- lm(youth_unemployed_861 ~ democracy_eiu, data = merged_final, na.action = na.exclude)
summary(model_youth_unemployment)

```

For the Unemployment Rate vs Democracy Index Analysis:
The linear regression model examining the relationship between the democracy index and the unemployment rate shows no significant association, as indicated by the p-value of 0.659 for `democracy_eiu`. The coefficient for `democracy_eiu` is -0.01509, suggesting a very slight negative trend, but it is not statistically significant. The model explains almost none of the variance in unemployment rates (R-squared near zero), and the intercept of 11.90886 suggests the average unemployment rate when the democracy index is zero.

For the Youth Unemployment vs Democracy Index Analysis: The analysis reveals a significant negative relationship between the democracy index and youth unemployment, with a highly significant p-value (< 2e-16) for `democracy_eiu`. The coefficient of -2.79985 implies that higher democracy scores are associated with lower youth unemployment rates. The model has a substantial explanatory power (20.82% of variance explained), and the intercept of 37.93713 indicates the expected youth unemployment rate when the democracy index is zero. 

These results are not surprising. Democratic societies typically emphasize education, skill development, and employment initiatives, which can mitigate youth unemployment. Additionally, transparent governance in democracies may lead to better economic planning and resource allocation, reducing barriers to entry for young job seekers and fostering a more dynamic and inclusive labor market. The results also show that the different SDGs are highly dependent of one another. An economy that pursues decent work and economic growth (SDG 8) is likely to implement strong institutions (SDG 16), to reduce inequalities on the labor market (SDG 10) and to invest in industry, innovation and infrastructure (SDG 9). 


## Gender-specific labor analysis

Gender-specific labor analysis, including the examination of SDG Indicators 8.5.1 (average hourly earnings by sex) and 8.3.1 (proportion of informal employment), is crucial for understanding and addressing gender disparities in the workforce. This analysis not only sheds light on pay equity and job security but also highlights areas where policy interventions can be targeted to promote gender equality and empower all individuals in the labor market. By examining these indicators, we can gain insights into the systemic inequalities and challenges faced by different genders, enabling the development of more inclusive and equitable labor policies and practices.

```{r}
# Welch Test for the year 2015
earnings_2015 <- merged_final |>
  filter(time == 2015, !is.na(earnings_851))

earnings_female_2015 <- earnings_2015 |>
  filter(sex == "SEX_F") |>
  pull(earnings_851)

earnings_male_2015 <- earnings_2015 |>
  filter(sex == "SEX_M") |>
  pull(earnings_851)

if (length(earnings_female_2015) > 1 && length(earnings_male_2015) > 1) {
    t_test_2015 <- t.test(earnings_female_2015, earnings_male_2015)
    print(t_test_2015)
} else {
    print("Not enough data to perform t-test for 2015")
}

# Welch Test for the year 2022
earnings_2022 <- merged_final |>
  filter(time == 2022, !is.na(earnings_851))

earnings_female_2022 <- earnings_2022 |>
  filter(sex == "SEX_F") |>
  pull(earnings_851)

earnings_male_2022 <- earnings_2022 |>
  filter(sex == "SEX_M") |>
  pull(earnings_851)

if (length(earnings_female_2022) > 1 && length(earnings_male_2022) > 1) {
    t_test_2022 <- t.test(earnings_female_2022, earnings_male_2022)
    print(t_test_2022)
} else {
    print("Not enough data to perform t-test for 2022")
}

```

The Welch Two Sample t-test results indicate that the global gender pay gap, as measured by the difference in average earnings between females and males, has not shown a statistically significant change from 2015 to 2022. In 2015, the average earnings for females were 1761.423 compared to 2016.723 for males, with a p-value of 0.506, suggesting no significant gender-based difference in earnings for that year. Similarly, in 2022, the earnings were 3744.651 for females and 4035.115 for males, with the p-value increasing to 0.7138, further indicating that the gender pay gap remained statistically insignificant over these years, despite the implementation of Sustainable Development Goals (SDGs).

```{r}
# Test for overall significance
earnings_female <- merged_final %>% 
  filter(sex == "SEX_F", !is.na(earnings_851)) %>% 
  pull(earnings_851)

earnings_male <- merged_final %>% 
  filter(sex == "SEX_M", !is.na(earnings_851)) %>% 
  pull(earnings_851)

if (length(earnings_female) > 1 && length(earnings_male) > 1) {
    t_test_earnings <- t.test(earnings_female, earnings_male)
    print(t_test_earnings)
} else {
    print("Not enough data to perform t-test")
}
```


Another t-test, this time for all years, indicates a significant gender pay gap globally. This is evidenced by the p-value of 0.02304, which is below the standard significance level of 0.05. This statistical significance suggests that the observed difference in average earnings – females earning 1567.330 compared to males earning 1773.816 – is not due to random chance but reflects a true disparity in pay between genders across the dataset. The considerably higher significance level is probably due to the larger size of the test sample.


```{r}
# Filtering for only 'SEX_F' and 'SEX_M' and excluding 'NA' in region
filtered_informal <- merged_final |>
  filter(sex %in% c("SEX_F", "SEX_M"), !is.na(informal_employment), !is.na(region), region != "NA")

# Aggregating data by region and sex
aggregated_informal_by_region <- filtered_informal |>
  group_by(region, sex) |>
  summarize(avg_informal_employment = mean(informal_employment, na.rm = TRUE), .groups = 'drop')

# Plotting the aggregated data with rotated x-axis labels
ggplot(aggregated_informal_by_region, aes(x = region, y = avg_informal_employment / 100, fill = sex)) +
  geom_bar(stat = "identity", position = position_dodge()) +
  scale_y_continuous(labels = scales::percent_format()) +
  labs(title = "Average Informal Employment", 
       x = "Region", 
       y = "Average Informal Employment (%)") +
  theme_minimal() +
  theme(axis.text.x = element_text(angle = 45, hjust = 1)) + scale_fill_manual(values = c("SEX_F" = "red", "SEX_M" = "blue"),
                    labels = c("SEX_F" = "Female", "SEX_M" = "Male"))

```

The average informal employment rates exhibit significant regional variations, with South America and Oceania reporting the highest percentages. Notably, in these regions, women constitute a larger proportion of the informal employment sector, suggesting gender-based disparities in job security and formality. Conversely, Africa and North America display a marginally higher prevalence of men in informal employment, whereas in Asia, the distribution is more balanced between the genders. This highlights the complex interplay of regional economic structures, cultural norms, and gender roles in shaping employment patterns.

```{r}
merged_final <- merged_final |>
  filter(sex %in% c("SEX_F", "SEX_M"), time >= 2011)

ggplot(merged_final, aes(x = time, y = earnings_851, fill = sex)) +
  geom_bar(stat = "identity", position = position_dodge(), width = 0.7) +  
  scale_x_continuous(breaks = scales::pretty_breaks(n = 10)) +
  scale_fill_manual(values = c("SEX_F" = "red", "SEX_M" = "blue"),
                    labels = c("SEX_F" = "Female", "SEX_M" = "Male")) +
  theme_minimal() +
  labs(title = "Earnings Over Time by Gender", x = "Year", y = "Average Earnings")

```
An examination of earnings since 2011 reveals a consistent upward trend in nominal earnings. However, this increase has not bridged the gender pay gap, with males consistently receiving higher pay than females across the years. This persistent disparity underscores the enduring challenge of achieving gender equality in the workplace. The trend suggests some progress in overall earnings but highlights the need for more targeted efforts to address gender-based income inequality. 


## Earnings by occupations 

```{r}
# Occupation mapping 
occupation_mapping <- data.frame(
  isco_08_occupation = c("OCU_ISCO08_TOTAL", "OCU_ISCO08_1", "OCU_ISCO08_2", "OCU_ISCO08_3", "OCU_ISCO08_4", "OCU_ISCO08_5", "OCU_ISCO08_6", "OCU_ISCO08_7", "OCU_ISCO08_8", "OCU_ISCO08_9", "OCU_ISCO08_0", "OCU_ISCO08_X"),
  sector_name = c("Total", "Managers", "Professionals", "Technicians", "Cleric",
                   "Services", "Skilled agriculture, forestry, fishery", "Craft & trade", "Plant & machine operations", "Elementary occupations", "Armed forces", "Not classified")
)
```


```{r}
merged_final |>
  merge( occupation_mapping, by = "isco_08_occupation", all.x = TRUE) |>
  filter(region == "Africa" & str_starts(isco_08_occupation, "OCU_ISCO08") & (time==2015 | time==2020 | time==2022)) |>
  ggplot() +
    geom_col(aes(y = earnings_851, x = sector_name, fill = sector_name)) +
    facet_wrap(time~.) +
    labs(title = "Average Hourly Earnings by Occupation in Africa",
         x = "Occupations",
         y = "Average Hourly Earnings",
         color = "Occupation") + 
    theme(axis.text.x=element_blank())
```


This figure shows the development of average hourly earnings across occupations on the African continent. It is especially interesting to look at Africa, since it is the region with the youngest population and therefore with a very dynamic labor market. 

The examination of earnings across various occupations in African countries between 2015 and 2022 reveals a trend of overall improvement, with particular increases in higher-skilled occupations. The data suggests that professionals, managers, and individuals in technical and associate professional roles experienced significant boosts in average hourly earnings over this period. However, it is crucial to acknowledge a dip in earnings during the pandemic years, which mirrors a global economic downturn. This decrease, while temporary, underscores the vulnerability of certain sectors to external shocks. In the context of the United Nations' SDG 8, the observed positive trajectory aligns with the broader goal of fostering economic prosperity and equitable opportunities. The emphasis on higher-skilled occupations indicates progress in providing quality employment, contributing to the overarching objective of creating a more resilient and inclusive workforce in African nations.


# Conclusion

Our comprehensive analysis of global progress towards Sustainable Development Goal 8 (SDG 8) – encompassing economic growth and decent work – reveals a complex landscape marked by regional variations, gender disparities, and the influence of democratic governance. Despite concerted efforts since the introduction of the SDGs in 2015, our findings indicate that challenges persist in achieving higher levels of economic productivity. The fluctuating growth rates, particularly the downturn during the Covid-19 pandemic and the subsequent partial recovery, underscore the vulnerability of global economies to external shocks and highlight the need for resilient and diversified economic strategies.

In the realm of labor trends, the persistent gender pay gap stands out, showing statistically significant disparities in earnings between males and females. This gap has remained resistant to change over the years, emphasizing the need for more targeted gender equality measures in the workplace. Additionally, our exploration of youth unemployment and informal employment has brought to light significant regional differences and gender-based trends in job security and formality. The data suggests that more democratic countries tend to have lower youth unemployment rates, hinting at the potential positive impact of democratic values on employment opportunities for young people. However, the lack of a clear correlation between overall unemployment and democracy levels suggests that other factors may play a significant role in shaping employment trends.

As we move closer to the 2030 deadline for the SDGs, our study underscores the importance of continued efforts to address these challenges. The integration of robust labor market data from the ILO and insights from The Economist’s World Democracy Index has provided a nuanced understanding of how different regions, genders, and political contexts influence the achievement of decent work and economic growth. Our analysis highlights the need for policies that not only foster economic growth but also ensure inclusivity, gender equality, and adaptability to global changes. As we look forward, the data and trends we have uncovered will be crucial in guiding effective strategies and actions to accelerate progress towards the ambitious yet essential goals of SDG 8.

# Annex

## Github

[Github repository link](https://github.com/dauphine-data-daniel/final-project-sdg8)

## Data sources

Our comprehensive analysis on the Global Progress Towards Sustainable Development Goal (SDG) 8 is primarily informed by two pivotal data sources: the International Labour Organization (ILO) datasets and The Economist's World Democracy Index. \n

The ILO datasets are central to our study. As a specialized agency of the United Nations, the ILO offers an extensive collection of data, crucial for understanding labor market dynamics, employment trends, and facets of economic growth globally. These datasets, featured on [ILOSTAT](https://test-ilostat.pantheonsite.io/data/#), are meticulously compiled and regularly updated, ensuring reliability. They encompass diverse metrics such as employment rates, wage differentials, labor productivity, and working conditions, providing a thorough examination of global labor markets and economic activities. This data is instrumental in assessing progress towards SDG 8's goals of sustained, inclusive economic growth, and decent work for all.\n

Complementing this, The Economist's World Democracy Index, accessible at [this link](https://ourworldindata.org/grapher/democracy-index-eiu), offers a unique perspective on the influence of democratic values on economic growth and labor markets. This index evaluates the state of democracy in 167 countries, scoring them based on electoral processes, civil liberties, government functionality, political participation, and culture. By correlating a country's democracy score with its SDG 8 performance, we aim to uncover relationships between democratic governance and the quality of economic growth and employment.\n

Integrating data from these two sources provides a comprehensive view of the progress towards SDG 8. The ILO's robust labor and economic data form a quantitative foundation, while the Democracy Index adds qualitative dimensions, exploring how political and social factors impact economic and labor market outcomes. This multifaceted approach allows for a well-rounded analysis, considering various variables that influence the achievement of decent work and economic growth worldwide. Together, these datasets not only form the backbone of our analysis but also ensure a deep, multifaceted exploration of the journey towards achieving SDG 8 globally.